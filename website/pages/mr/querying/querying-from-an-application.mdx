---
title: Querying from an Application
---

एकदा सबग्राफ स्टुडिओ किंवा ग्राफ एक्सप्लोररमध्ये सबग्राफ उपयोजित केल्यावर, तुम्हाला तुमच्या ग्राफक्यूएल API साठी एंडपॉइंट दिला जाईल जो असे काहीतरी दिसला पाहिजे:

**Subgraph Studio (testing endpoint)**

```sh
Queries (HTTP)
https://api.studio.thegraph.com/query/<ID>/<SUBGRAPH_NAME>/<VERSION>
```

**आलेख एक्सप्लोरर**

```sh
Queries (HTTP)
https://gateway.thegraph.com/api/<API_KEY>/subgraphs/id/<SUBGRAPH_ID>
```

GraphQL एंडपॉइंट वापरून, तुम्ही सबग्राफची क्वेरी करण्यासाठी आणि सबग्राफद्वारे अनुक्रमित केलेल्या डेटासह तुमचा अॅप पॉप्युलेट करण्यासाठी विविध GraphQL क्लायंट लायब्ररी वापरू शकता.

इकोसिस्टममधील आणखी काही लोकप्रिय ग्राफक्यूएल क्लायंट आणि ते कसे वापरायचे ते येथे आहेत:

## GraphQL clients

### Graph client

The Graph is providing it own GraphQL client, `graph-client` that supports unique features such as:

- Cross-chain Subgraph Handling: Querying from multiple subgraphs in a single query
- [Automatic Block Tracking](https://github.com/graphprotocol/graph-client/blob/main/packages/block-tracking/README.md)
- [Automatic Pagination](https://github.com/graphprotocol/graph-client/blob/main/packages/auto-pagination/README.md)
- Fully typed result

<br />

तसेच अपोलो आणि URQL सारख्या लोकप्रिय GraphQL क्लायंटसह एकत्रित केलेले आणि सर्व वातावरणाशी सुसंगत (React, Angular, Node.js, React Native), `graph-client` वापरणे तुम्हाला द शी संवाद साधण्याचा सर्वोत्तम अनुभव देईल. आलेख.

<br />

Let's look at how to fetch data from a subgraph with `graphql-client`.

To get started, make sure to install The Graph Client CLI in your project:

```sh
yarn add -D @graphprotocol/client-cli
# or, with NPM:
npm install --save-dev @graphprotocol/client-cli
```

Define your query in a `.graphql` file (or inlined in your `.js` or `.ts` file):

```graphql
query ExampleQuery {
  # this one is coming from compound-v2
  markets(first: 7) {
    borrowRate
    cash
    collateralFactor
  }
  # this one is coming from uniswap-v2
  pair(id: "0x00004ee988665cdda9a1080d5792cecd16dc1220") {
    id
    token0 {
      id
      symbol
      name
    }
    token1 {
      id
      symbol
      name
    }
  }
}
```

Then, create a configuration file (called `.graphclientrc.yml`) and point to your GraphQL endpoints provided by The Graph, for example:

```yaml
# .graphclientrc.yml
sources:
  - name: uniswapv2
    handler:
      graphql:
        endpoint: https://api.thegraph.com/subgraphs/name/uniswap/uniswap-v2
  - name: compoundv2
    handler:
      graphql:
        endpoint: https://api.thegraph.com/subgraphs/name/graphprotocol/compound-v2

documents:
  - ./src/example-query.graphql
```

Running the following The Graph Client CLI command will generate typed and ready to use JavaScript code:

```sh
graphclient build
```

Finally, update your `.ts` file to use the generated typed GraphQL documents:

```tsx
import React, { useEffect } from 'react'
// ...
// we import types and typed-graphql document from the generated code (`..graphclient/`)
import { ExampleQueryDocument, ExampleQueryQuery, execute } from '../.graphclient'

function App() {
  const [data, setData] = React.useState<ExampleQueryQuery>()

  useEffect(() => {
    execute(ExampleQueryDocument, {}).then((result) => {
      setData(result?.data)
    })
  }, [setData])
  return (
    <div className="App">
      <header className="App-header">
        <img src={logo} className="App-logo" alt="logo" />
        <p>Graph Client Example</p>
        <fieldset>
          {data && (
            <form>
              <label>Data</label>
              <br />
              <textarea value={JSON.stringify(data, null, 2)} readOnly rows={25} />
            </form>
          )}
        </fieldset>
      </header>
    </div>
  )
}

export default App
```

<br />

**⚠️ Important notice**

`ग्राफ-क्लायंट` इतर GraphQL क्लायंट जसे की अपोलो क्लायंट, URQL, किंवा React Query सह उत्तम प्रकारे एकत्रित केले आहे; तुम्हाला [अधिकृत भांडारात उदाहरणे सापडतील](https://github.com/graphprotocol/graph-client/tree/main/examples).

तथापि, तुम्ही दुसर्‍या क्लायंटसोबत जाण्याचे निवडल्यास, लक्षात ठेवा की **तुम्ही क्रॉस-चेन सबग्राफ हँडलिंग किंवा ऑटोमॅटिक पेजनेशन वापरण्यास सक्षम असणार नाही, जे क्वेरीसाठी मुख्य वैशिष्ट्ये आहेत. आलेख**.

<br />

### Apollo client

[Apollo client](https://www.apollographql.com/docs/) is the ubiquitous GraphQL client on the front-end ecosystem.

React, Angular, Vue, Ember, iOS आणि Android साठी उपलब्ध, Apollo Client, जरी सर्वात वजनदार क्लायंट असले तरी, GraphQL वर प्रगत UI तयार करण्यासाठी अनेक वैशिष्ट्ये आणते:

- advanced error handling
- pagination
- data prefetching
- optimistic UI
- local state management

<br />

Let's look at how to fetch data from a subgraph with Apollo client in a web project.

First, install `@apollo/client` and `graphql`:

```sh
npm install @apollo/client graphql
```

Then you can query the API with the following code:

```javascript
import { ApolloClient, InMemoryCache, gql } from '@apollo/client'

const APIURL = 'https://api.studio.thegraph.com/query//<SUBGRAPH_NAME>/'

const tokensQuery = `
  query {
    tokens {
      id
      tokenID
      contentURI
      metadataURI
    }
  }
`

const client = new ApolloClient({
  uri: APIURL,
  cache: new InMemoryCache(),
})

client
  .query({
    query: gql(tokensQuery),
  })
  .then((data) => console.log('Subgraph data: ', data))
  .catch((err) => {
    console.log('Error fetching data: ', err)
  })
```

To use variables, you can pass in a `variables` argument to the query:

```javascript
const tokensQuery = `
  query($first: Int, $orderBy: BigInt, $orderDirection: String) {
    tokens(
      first: $first, orderBy: $orderBy, orderDirection: $orderDirection
    ) {
      id
      tokenID
      contentURI
      metadataURI
    }
  }
`

client
  .query({
    query: gql(tokensQuery),
    variables: {
      first: 10,
      orderBy: 'createdAtTimestamp',
      orderDirection: 'desc',
    },
  })
  .then((data) => console.log('Subgraph data: ', data))
  .catch((err) => {
    console.log('Error fetching data: ', err)
  })
```

<br />

### URQL

दुसरा पर्याय [URQL](https://formidable.com/open-source/urql/) आहे जो Node.js, React/Preact, Vue आणि Svelte वातावरणात उपलब्ध आहे, अधिक प्रगत वैशिष्ट्ये:

- Flexible cache system
- Extensible design (easing adding new capabilities on top of it)
- Lightweight bundle (~5x lighter than Apollo Client)
- Support for file uploads and offline mode

<br />

Let's look at how to fetch data from a subgraph with URQL in a web project.

First, install `urql` and `graphql`:

```sh
npm install urql graphql
```

Then you can query the API with the following code:

```javascript
import { createClient } from 'urql'

const APIURL = 'https://api.thegraph.com/subgraphs/name/username/subgraphname'

const tokensQuery = `
  query {
    tokens {
      id
      tokenID
      contentURI
      metadataURI
    }
  }
`

const client = createClient({
  url: APIURL,
})

const data = await client.query(tokensQuery).toPromise()
```
